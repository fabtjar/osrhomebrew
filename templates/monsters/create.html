{% extends 'base.html' %}

{% load static crispy_forms_tags %}

{% block content %}
    {% block page_title %}
        <h1>Create monster</h1>
    {% endblock page_title %}
    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
        {{ form|crispy }}
        <h2>Special attacks</h2>
        <div id="formsets">
            {{ formset|crispy }}
        </div>
        <div class="text-center">
            <a class="btn btn-outline-primary" onclick="addEmptyForm();">Add another special attack</a>
        </div>
        <hr>
        {% block form_button %}
            <button type="submit" class="btn btn-success">Save</button>
        {% endblock form_button %}
    </form>
{% endblock %}

{% block scripts %}
    <script>
        const EMPTY_FORM = `{{ formset.empty_form|crispy }}`.replaceAll('\n', '');
    </script>
    <script src="{% static 'js/formsets.js' %}"></script>
{% endblock scripts %}
